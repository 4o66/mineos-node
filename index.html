<!doctype html>
<html>
  <head>
    <title>MineOS Web User-Interface</title>
    <style>
      
    </style>
    <script type="text/javascript">
      String.prototype.format = function() {
        var s = this;
        for(var i = 0, iL = arguments.length; i<iL; i++) {
          s = s.replace(new RegExp('\\{'+i+'\\}', 'gm'), arguments[i]);
        }
        return s;
      };
    </script>

  </head>
  <body>
    <h1>mineos</h1>
    <h2>server list</h2>
    <ul id="servers"></ul>
    <h2>log.latest</h2>
    <ul id="log_latest"></ul>
    <h2>server.properties</h2>
    <ul id="sp"></ul>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
      var socket = io();
      
      socket.on('server_list', function(servers) {
        console.log(servers);
        $('#servers').empty();
        $.each(servers, function(i,v) {
          $('#servers').append($('<li>').text(v));
        })
      })

      socket.on('server.properties', function(data) {
        $('#sp').empty();
        $.each(data, function(k,v) {
          $('#sp').append($('<li>').text('{0}:{1}'.format(k,v)));
        })
      })

      socket.on('tail_data', function(msg) {
        console.log(msg)
        $('#log_latest').append($('<li>').text(msg));
      })

      /*socket.emit('start_tail', 'a', '/logs/latest.log')*/
      /*socket.emit('server_overview', 'a')*/
      /*socket.emit('create', 'b')*/
      /*socket.emit('start', 'b')*/
      /*socket.emit('stuff', 'b', 'help')*/
    </script>
  </body>
</html>